{% extends "base.html" %}

{% block title %}Appointments - {{ app_name }}{% endblock %}

{% block extra_css %}
<style>
  /* ==================== MINIMAL CUSTOM STYLES ==================== */
  .current-badge {
    background: linear-gradient(135deg, #10b981, #059669);
    color: white;
    padding: 0.25rem 0.75rem;
    border-radius: 20px;
    font-size: 0.75rem;
    font-weight: 600;
    text-transform: uppercase;
    letter-spacing: 0.5px;
  }

  .appointment-card {
    transition: all 0.2s ease;
  }

  .appointment-card:hover {
    box-shadow: 0 3px 10px rgba(0,0,0,0.06) !important;
    transform: translateY(-2px);
  }

  .action-btn {
    transition: all 0.2s ease;
  }
  .img img{
    border:2px solid #ff8c00ff;
  }

  .action-btn:hover {
    background: #1e3a8a !important;
    color: #fff !important;
    border-color: #1e3a8a !important;
    transform: translateY(-1px);
    box-shadow: 0 2px 8px rgba(30, 58, 138, 0.2);
  }
</style>
{% endblock %}

{% block content %}
<div class="container py-4 py-md-5" style="max-width: 70%;">

  <!-- Page Header -->
  <!--<div class="mb-4">
    <h4 class="fw-bold mb-1">
      <i class="bi bi-calendar-check text-primary me-2"></i>
      My Appointments
    </h4>
    <p class="text-muted small mb-0">Manage your current and upcoming bookings</p>
  </div>-->

  <!-- Current Booking Section -->
  <div class="mb-4">
    <h6 class="fw-semibold mb-3 d-flex align-items-center">
      <!--<i class="bi bi-calendar-check text-primary me-2"></i>-->
      Current Booking
    </h6>
    
    <div class="card border shadow-sm rounded-3 appointment-card">
      <div class="card-body p-3 p-md-4">
        <div class="row g-3 align-items-center">
          <div class="col-md-7">
            <div class="d-flex align-items-center gap-3 img">
              <img 
                src="https://i.pravatar.cc/100?img=5" 
                alt="Paula Mora" 
                class="rounded-3 shadow-sm"
                style="width: 55px; height: 55px; object-fit: cover;"
              />
              <div>
                <h6 class="mb-1 fw-semibold">
                  Paula Mora
                  <span class="current-badge ms-2">Active</span>
                </h6>
                <small class="text-muted d-flex align-items-center gap-1">
                  <i class="bi bi-calendar3"></i>
                  Oct 17, 2023 1:55 am
                </small>
              </div>
            </div>
          </div>
          <div class="col-md-5">
            <div class="d-flex gap-2 justify-content-md-end flex-wrap">
              <button class="btn btn-sm btn-outline-primary action-btn d-flex align-items-center gap-2">
                <i class="bi bi-clock-history"></i> 
                <span>2 hr</span>
              </button>
              <button class="btn btn-sm btn-outline-primary action-btn d-flex align-items-center gap-2">
                <i class="bi bi-telephone-fill"></i> 
                <span>Call</span>
              </button>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Upcoming Appointments Section -->
  <div>
    <h6 class="fw-semibold mb-3 d-flex align-items-center">
     <!-- <i class="bi bi-calendar2-week text-primary me-2"></i> -->
      Previous Booking
    </h6>

    <!-- Appointment Card 1 -->
    <div class="card border shadow-sm rounded-3 mb-3 appointment-card">
      <div class="card-body p-3 p-md-4">
        <div class="row g-3 align-items-center">
          <div class="col-md-7">
            <div class="d-flex align-items-center gap-3 img ">
              <img 
                src="https://i.pravatar.cc/100?img=8" 
                alt="Stephanie Sharkey" 
                class="rounded-3 shadow-sm"
                style="width: 55px; height: 55px; object-fit: cover;"
              />
              <div>
                <h6 class="mb-1 fw-semibold">Stephanie Sharkey</h6>
                <small class="text-muted d-flex align-items-center gap-1">
                  <i class="bi bi-calendar3"></i>
                  Oct 18, 2023 1:55 am
                </small>
              </div>
            </div>
          </div>
          <div class="col-md-5">
            <div class="d-flex gap-2 justify-content-md-end">
              <button class="btn btn-sm btn-outline-primary action-btn d-flex align-items-center gap-2">
                <i class="bi bi-telephone-fill"></i> 
                <span>Call</span>
              </button>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Appointment Card 2 -->
    <div class="card border shadow-sm rounded-3 mb-3 appointment-card">
      <div class="card-body p-3 p-md-4">
        <div class="row g-3 align-items-center">
          <div class="col-md-7">
            <div class="d-flex align-items-center gap-3 img">
              <img 
                src="https://i.pravatar.cc/100?img=10" 
                alt="Alex Buckmaster" 
                class="rounded-3 shadow-sm"
                style="width: 55px; height: 55px; object-fit: cover;"
              />
              <div>
                <h6 class="mb-1 fw-semibold">Alex Buckmaster</h6>
                <small class="text-muted d-flex align-items-center gap-1">
                  <i class="bi bi-calendar3"></i>
                  Oct 19, 2023 2:00 am
                </small>
              </div>
            </div>
          </div>
          <div class="col-md-5">
            <div class="d-flex gap-2 justify-content-md-end">
              <button class="btn btn-sm btn-outline-primary action-btn d-flex align-items-center gap-2">
                <i class="bi bi-telephone-fill"></i> 
                <span>Call</span>
              </button>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Appointment Card 3 -->
    <div class="card border shadow-sm rounded-3 mb-3 appointment-card">
      <div class="card-body p-3 p-md-4">
        <div class="row g-3 align-items-center">
          <div class="col-md-7">
            <div class="d-flex align-items-center gap-3 img">
              <img 
                src="https://i.pravatar.cc/100?img=5" 
                alt="Paula Mora" 
                class="rounded-3 shadow-sm"
                style="width: 55px; height: 55px; object-fit: cover;"
              />
              <div>
                <h6 class="mb-1 fw-semibold">Paula Mora</h6>
                <small class="text-muted d-flex align-items-center gap-1">
                  <i class="bi bi-calendar3"></i>
                  Oct 20, 2023 3:00 am
                </small>
              </div>
            </div>
          </div>
          <div class="col-md-5">
            <div class="d-flex gap-2 justify-content-md-end">
              <button class="btn btn-sm btn-outline-primary action-btn d-flex align-items-center gap-2">
                <i class="bi bi-telephone-fill"></i> 
                <span>Call</span>
              </button>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Empty State (Hidden by default) -->
    <div class="text-center py-5 d-none" id="emptyState">
      <i class="bi bi-calendar-x text-muted" style="font-size: 4rem;"></i>
      <h5 class="mt-3 text-muted">No upcoming appointments</h5>
      <p class="text-muted">Book a caregiver to see your appointments here</p>
      <a href="/" class="btn btn-primary rounded-pill px-4 mt-2">Find Caregivers</a>
    </div>

  </div>

</div>
{% endblock %}

{% block extra_js %}
<script>
  // ==================== ACTION BUTTON HANDLERS ====================
  document.querySelectorAll('.action-btn').forEach(btn => {
    btn.addEventListener('click', function() {
      const action = this.textContent.trim();
      console.log('Action clicked:', action);
      
      if (action.includes('Call')) {
        // Add your call functionality
        alert('Calling caregiver...');
        // In production: window.location.href = 'tel:+1234567890';
      } else if (action.includes('Chat')) {
        // Add your chat functionality
        alert('Opening chat...');
        // In production: redirect to chat page
      }
    });
  });

  // ==================== SHOW EMPTY STATE IF NO APPOINTMENTS ====================
  // Uncomment this to show empty state when there are no appointments
  /*
  const appointmentCount = document.querySelectorAll('.appointment-card').length;
  if (appointmentCount === 0) {
    document.getElementById('emptyState').classList.remove('d-none');
  }
  */
</script>
{% endblock %}